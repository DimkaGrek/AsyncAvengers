{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,O,c,C,E,O,C,W,C,I,W,O,C,E,I,S,C,E,O,E,C,E,W,C,E,a,C,C,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,G,E,Q,S,C,C,C,ECVA,EAAA,OAAA,CAAiB,IAAA,IAAoB,sCAAA,YAAA,GAAA,EAAuC,QAAQ,E,GCApF,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,4R,I,E,E,S,E,S,I,E,E,S,E,E,S,E,E,S,E,S,I,E,E,S,E,E,SCUrF,MAAM,EAAW,CACtB,UAAW,SAAS,aAAa,CAAC,kBAClC,SAAU,SAAS,aAAa,CAAC,iBACjC,UAAW,SAAS,aAAa,CAAC,kBAClC,mBAAoB,SAAS,gBAAgB,CAAC,qBAC9C,cAAe,SAAS,aAAa,CAAC,qBACtC,gBAAiB,SAAS,aAAa,CAAC,sBACxC,UAAW,SAAS,aAAa,CAAC,mBAClC,KAAM,SAAS,aAAa,CAAC,oBAC/B,EAEA,IAAI,EAAW,EAAE,CA8GjB,eAAe,EAAa,CAAK,EAC/B,EAAM,cAAc,GACpB,AAAA,CAAA,EAAA,EAAA,WAAU,AAAV,IACA,IAAI,EAAQ,GAEZ,AADiB,IAAI,SAAS,EAAM,MAAM,EACjC,OAAO,CAAC,AAAA,IA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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-f113f902469dd2c8.js","node_modules/@parcel/runtime-js/lib/runtime-332a87b02a7b762b.js","src/js/cart.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"kyEFX\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", function () { return $ef7689007096c8a0$export$6503ec6e8aabbaf; }, function (v) { return $ef7689007096c8a0$export$6503ec6e8aabbaf = v; });\nvar $ef7689007096c8a0$export$6503ec6e8aabbaf;\nvar $ef7689007096c8a0$export$f7ad0328861e2f03;\n\"use strict\";\nvar $ef7689007096c8a0$var$mapping = new Map();\nfunction $ef7689007096c8a0$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$ef7689007096c8a0$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $ef7689007096c8a0$var$resolve(id) {\n    var resolved = $ef7689007096c8a0$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$ef7689007096c8a0$export$6503ec6e8aabbaf = $ef7689007096c8a0$var$register;\n$ef7689007096c8a0$export$f7ad0328861e2f03 = $ef7689007096c8a0$var$resolve;\n\n});\n\nparcelRegister(\"kBiqv\", function(module, exports) {\nmodule.exports = new URL(\"icons.b5315233.svg\", import.meta.url).toString();\n\n});\n\nvar $aedff010afa39e42$exports = {};\n\n(parcelRequire(\"kyEFX\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"d3pfZ\",\"cart.065102e8.js\",\"hm5VY\",\"icons.b5315233.svg\",\"1kkTF\",\"cart.fb314f43.css\",\"eBb1I\",\"index.78bb341e.js\",\"1kkTF\",\"cart.fb314f43.css\",\"14klr\",\"index.runtime.360d4df5.js\"]'));\n\n\nvar $9OeKo = parcelRequire(\"9OeKo\");\nparcelRequire(\"bUb57\");\n\nvar $8O1yB = parcelRequire(\"8O1yB\");\n\n\nvar $6M5dt = parcelRequire(\"6M5dt\");\n\nvar $kBiqv = parcelRequire(\"kBiqv\");\nparcelRequire(\"epHO8\");\n\nvar $04jNI = parcelRequire(\"04jNI\");\n\nvar $bfxWz = parcelRequire(\"bfxWz\");\nconst $915de8ffc4dd3149$export$8a361852783e1caf = {\n    itemsList: document.querySelector(\".js-items-list\"),\n    fullCart: document.querySelector(\".js-container\"),\n    emptyCart: document.querySelector(\".js-empty-cart\"),\n    quantityHeaderSpan: document.querySelectorAll(\".js-cart-quantity\"),\n    quantityTitle: document.querySelector(\".js-quantity-span\"),\n    deleteAllButton: document.querySelector(\".js-delete-all-btn\"),\n    totalSpan: document.querySelector(\".js-total-price\"),\n    form: document.querySelector(\".js-form-checkout\")\n};\nlet $915de8ffc4dd3149$var$products = [];\n$915de8ffc4dd3149$var$products = $915de8ffc4dd3149$var$loadFromLS(\"CART\");\nif (!$915de8ffc4dd3149$var$isEmpty($915de8ffc4dd3149$var$products)) {\n    $915de8ffc4dd3149$export$8a361852783e1caf.quantityTitle.textContent = `${$915de8ffc4dd3149$var$products.length}`;\n    $915de8ffc4dd3149$export$8a361852783e1caf.quantityHeaderSpan.forEach((elem)=>elem.textContent = `${$915de8ffc4dd3149$var$products.length}`);\n    $915de8ffc4dd3149$var$getProducts($915de8ffc4dd3149$var$products);\n    $915de8ffc4dd3149$export$8a361852783e1caf.deleteAllButton.addEventListener(\"click\", $915de8ffc4dd3149$var$onClickDeleteAllButton);\n    $915de8ffc4dd3149$export$8a361852783e1caf.itemsList.addEventListener(\"click\", async (event)=>{\n        if (event.target.nodeName === \"UL\") return;\n        if (event.target.dataset.action === \"delete\") $915de8ffc4dd3149$var$onClickDeleteButton(event);\n        const action = event.target.dataset.action;\n        if (action === \"increment\" || action === \"decrement\") $915de8ffc4dd3149$var$onChangeAmountProducts(event, action);\n    });\n    $915de8ffc4dd3149$export$8a361852783e1caf.form.addEventListener(\"submit\", $915de8ffc4dd3149$var$handleSubmit);\n}\nfunction $915de8ffc4dd3149$var$onClickDeleteAllButton() {\n    $915de8ffc4dd3149$export$8a361852783e1caf.itemsList.classList.add(\"scale-down-center\");\n    setTimeout(()=>{\n        $915de8ffc4dd3149$var$saveToLS(\"CART\", []);\n        $915de8ffc4dd3149$var$products = [];\n        $915de8ffc4dd3149$var$isEmpty($915de8ffc4dd3149$var$products);\n        (0, $04jNI.spinnerStop)();\n    }, 500);\n}\nfunction $915de8ffc4dd3149$var$onClickDeleteButton(event) {\n    const item = event.target.closest(\"LI\");\n    const id = item.dataset.id;\n    const updateProducts = $915de8ffc4dd3149$var$loadFromLS(\"CART\");\n    const filteredProducts = updateProducts.filter((elem)=>elem.productId !== id);\n    item.classList.add(\"slide-top\");\n    setTimeout(()=>{\n        item.remove();\n        let totalPrice = 0;\n        $915de8ffc4dd3149$export$8a361852783e1caf.allPricesofProducts = document.querySelectorAll(\".js-cart-product-price\");\n        $915de8ffc4dd3149$export$8a361852783e1caf.allAmountOfProducts = document.querySelectorAll(\".js-amount-span\");\n        totalPrice = filteredProducts.reduce((total, elem, i)=>{\n            return total + Number($915de8ffc4dd3149$export$8a361852783e1caf.allPricesofProducts[i].textContent.replace(\"$\", \"\")) * Number($915de8ffc4dd3149$export$8a361852783e1caf.allAmountOfProducts[i].textContent);\n        }, 0);\n        $915de8ffc4dd3149$export$8a361852783e1caf.quantityTitle.textContent = `${filteredProducts.length}`;\n        $915de8ffc4dd3149$export$8a361852783e1caf.quantityHeaderSpan.forEach((elem)=>elem.textContent = `${filteredProducts.length}`);\n        $915de8ffc4dd3149$export$8a361852783e1caf.totalSpan.textContent = `$${totalPrice.toFixed(2)}`;\n        $915de8ffc4dd3149$var$saveToLS(\"CART\", filteredProducts);\n        $915de8ffc4dd3149$var$isEmpty(filteredProducts);\n    }, 500);\n}\nfunction $915de8ffc4dd3149$var$onChangeAmountProducts(event, action) {\n    const productPrice = Number(event.target.closest(\".js-border-container\").previousElementSibling.lastElementChild.textContent.replace(\"$\", \"\"));\n    const quantityElement = event.target.closest(\"SPAN\").firstElementChild.nextElementSibling;\n    let value = Number(quantityElement.textContent);\n    const id = event.target.closest(\"LI\").dataset.id;\n    if (action === \"decrement\") {\n        if (value === 1) return;\n        value -= 1;\n        $915de8ffc4dd3149$export$8a361852783e1caf.totalSpan.textContent = \"$\" + (Number($915de8ffc4dd3149$export$8a361852783e1caf.totalSpan.textContent.replace(\"$\", \"\")) - productPrice).toFixed(2);\n    }\n    if (action === \"increment\") {\n        value += 1;\n        $915de8ffc4dd3149$export$8a361852783e1caf.totalSpan.textContent = \"$\" + (Number($915de8ffc4dd3149$export$8a361852783e1caf.totalSpan.textContent.replace(\"$\", \"\")) + productPrice).toFixed(2);\n    }\n    quantityElement.textContent = value;\n    const productsList = $915de8ffc4dd3149$var$loadFromLS(\"CART\");\n    const index = productsList.findIndex((elem)=>{\n        return elem.productId === id;\n    });\n    productsList[index].amount = value;\n    $915de8ffc4dd3149$var$saveToLS(\"CART\", productsList);\n}\nasync function $915de8ffc4dd3149$var$handleSubmit(event) {\n    event.preventDefault();\n    (0, $04jNI.spinnerPlay)();\n    let email = \"\";\n    const formData = new FormData(event.target);\n    formData.forEach((value)=>{\n        email = value;\n    });\n    const order = {};\n    order.products = $915de8ffc4dd3149$var$loadFromLS(\"CART\");\n    order.email = email;\n    try {\n        const response = await (0, $6M5dt.default).createOrder(order);\n        (0, $bfxWz.openModalSuccess)();\n        $915de8ffc4dd3149$var$saveToLS(\"CART\", []);\n        $915de8ffc4dd3149$var$products = [];\n        $915de8ffc4dd3149$export$8a361852783e1caf.form.reset();\n        $915de8ffc4dd3149$var$isEmpty($915de8ffc4dd3149$var$products);\n    } catch (error) {\n        if (error.response.status === 400) (0, $bfxWz.openModalError)(\"Incorrect email\", \"The email must be in format: johnsmith125@gmail.com\");\n        else (0, $bfxWz.openModalError)(\"Server Issue\", `We're sorry, but it seems there's an issue with our server. Please try again later.`);\n    } finally{\n        (0, $04jNI.spinnerStop)();\n    }\n}\nasync function $915de8ffc4dd3149$var$getProducts(cartList) {\n    (0, $04jNI.spinnerPlay)();\n    try {\n        if (!$915de8ffc4dd3149$var$products) return;\n        let totalPrice = 0;\n        const productsList = cartList.map(async (elem)=>{\n            const response = await (0, $6M5dt.default).getProductById(elem.productId);\n            return response;\n        });\n        const productItems = await Promise.all(productsList);\n        totalPrice = productItems.reduce((total, elem)=>{\n            return total + elem.price;\n        }, 0);\n        const markup = $915de8ffc4dd3149$var$createMarkup(productItems, cartList);\n        $915de8ffc4dd3149$export$8a361852783e1caf.itemsList.innerHTML = markup;\n        $915de8ffc4dd3149$export$8a361852783e1caf.totalSpan.textContent = `$${totalPrice.toFixed(2)}`;\n        new (0, $8O1yB.default)($915de8ffc4dd3149$export$8a361852783e1caf.itemsList, {\n            autoHide: false\n        });\n    } catch (error) {\n        $915de8ffc4dd3149$export$8a361852783e1caf.fullCart.classList.add(\"is-hidden\");\n        $915de8ffc4dd3149$export$8a361852783e1caf.emptyCart.classList.remove(\"is-hidden\");\n        (0, $bfxWz.openModalError)(\"Server Issue\", `We're sorry, but it seems there's an issue with our server. Please try again later.`);\n    } finally{\n        (0, $04jNI.spinnerStop)();\n    }\n}\nfunction $915de8ffc4dd3149$var$createMarkup(items, amountItems) {\n    return items.map(({ name: name, category: category, size: size, img: img, price: price, _id: _id, is10PercentOff: is10PercentOff }, i)=>{\n        return `<li class=\"item-list\" data-id=\"${_id}\">\n            <div class=\"cart-product-img-container\">\n              <img\n                class=\"cart-product-img\"\n                src=\"${img}\"\n                alt=\"product\"\n                width=\"64\"\n                height=\"64\"\n              />\n       ${$915de8ffc4dd3149$var$createMarkupDiscountProduct(is10PercentOff)}\n            </div>\n            <div class=\"cart-product-container\">\n              <h3 class=\"cart-product-name\">${name}</h3>\n              <div class=\"cart-description-container\">\n                <p class=\"cart-product-description\">\n                  Category:\n                  <span class=\"cart-product-description-accent\"\n                    >${category}</span\n                  >\n                </p>\n                <p class=\"cart-product-description\">\n                  Size:\n                  <span class=\"cart-product-description-accent\">${size}</span>\n                </p>\n              </div>\n              <p class=\"cart-product-price js-cart-product-price\">$${price}</p>\n            </div>\n\n            <div class=\"border-container js-border-container\">\n              <div class=\"product-price-wrapper\">\n                <div class=\"quantity-span-container\">\n                  <span class=\"quantity-span\">\n                    <button\n                      class=\"quantity-span-btn\"\n                      type=\"button\"\n                      data-action=\"decrement\"\n                    >\n                      <svg class=\"cart-icon-minus\" width=\"10\" height=\"10\" data-action=\"decrement\" aria-label=\"decrease by one item\">\n                        <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($kBiqv))}#icon-minus\" data-action=\"decrement\"></use>\n                      </svg></button\n                    ><span class=\"js-amount-span\">${amountItems[i].amount}</span>\n                    <button\n                      class=\"quantity-span-btn\"\n                      type=\"button\"\n                      data-action=\"increment\" aria-label=\"increase by one item\"\n                    >\n                      <svg class=\"cart-icon-plus\" width=\"14\" height=\"14\" data-action=\"increment\">\n                        <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($kBiqv))}#icon-plus\" data-action=\"increment\"></use>\n                      </svg>\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <button class=\"delete-btn\" type=\"button\" data-action=\"delete\" aria-label=\"button delete item\">\n              <svg class=\"cart-icon-delete\" width=\"10\" height=\"10\" data-action=\"delete\">\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($kBiqv))}#icon-close\" class=\"icon\" data-action=\"delete\"></use>\n              </svg>\n            </button>\n          </li>`;\n    }).join(\"\");\n}\nfunction $915de8ffc4dd3149$var$createMarkupDiscountProduct(isDiscount) {\n    const markup = `<svg class=\"cart-product-discount-icon\" width=\"35\" height=\"35\">\n          <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($kBiqv)))}#icon-discount\"></use>\n        </svg> `;\n    return isDiscount ? markup : \"\";\n}\nfunction $915de8ffc4dd3149$var$isEmpty(items) {\n    if (!items?.length) {\n        $915de8ffc4dd3149$export$8a361852783e1caf.fullCart.classList.add(\"is-hidden\");\n        $915de8ffc4dd3149$export$8a361852783e1caf.emptyCart.classList.remove(\"is-hidden\");\n        $915de8ffc4dd3149$export$8a361852783e1caf.quantityTitle.textContent = \"0\";\n        $915de8ffc4dd3149$export$8a361852783e1caf.quantityHeaderSpan.forEach((elem)=>elem.textContent = \"0\");\n        return true;\n    } else {\n        $915de8ffc4dd3149$export$8a361852783e1caf.emptyCart.classList.add(\"is-hidden\");\n        $915de8ffc4dd3149$export$8a361852783e1caf.fullCart.classList.remove(\"is-hidden\");\n        return false;\n    }\n}\n// Save to local storage\nfunction $915de8ffc4dd3149$var$saveToLS(key, value) {\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch (error) {\n        console.error(\"Set state error: \", error.message);\n    }\n}\n// Load from local storage\nfunction $915de8ffc4dd3149$var$loadFromLS(key) {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n}\n// -----------------ScrollUp Button----------------------\nconst $915de8ffc4dd3149$var$scrollUpButton = document.querySelector(\".js-scroll-up-btn\");\ndocument.addEventListener(\"scroll\", (0, (/*@__PURE__*/$parcel$interopDefault($9OeKo)))(()=>{\n    if (window.scrollY > 200) return $915de8ffc4dd3149$var$scrollUpButton.classList.add(\"show\");\n    $915de8ffc4dd3149$var$scrollUpButton.classList.remove(\"show\");\n}, 500));\n$915de8ffc4dd3149$var$scrollUpButton.addEventListener(\"click\", ()=>{\n    window.scroll({\n        top: 0,\n        behavior: \"smooth\"\n    });\n}); // ==========================================================\n\n\n//# sourceMappingURL=cart.065102e8.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(\"icons.b5315233.svg\").toString();","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"d3pfZ\\\",\\\"cart.065102e8.js\\\",\\\"hm5VY\\\",\\\"icons.b5315233.svg\\\",\\\"1kkTF\\\",\\\"cart.fb314f43.css\\\",\\\"eBb1I\\\",\\\"index.78bb341e.js\\\",\\\"1kkTF\\\",\\\"cart.fb314f43.css\\\",\\\"14klr\\\",\\\"index.runtime.360d4df5.js\\\"]\"));","import throttle from 'lodash.throttle';\nimport './header';\nimport SimpleBar from 'simplebar';\nimport 'simplebar/dist/simplebar.css';\nimport FoodApi from './FoodApi';\nimport icons from '../img/icons.svg';\nimport './footer';\nimport { spinnerPlay, spinnerStop } from './spinner';\nimport { openModalError, openModalSuccess } from './modal/modal';\n\nexport const refsCart = {\n  itemsList: document.querySelector('.js-items-list'),\n  fullCart: document.querySelector('.js-container'),\n  emptyCart: document.querySelector('.js-empty-cart'),\n  quantityHeaderSpan: document.querySelectorAll('.js-cart-quantity'),\n  quantityTitle: document.querySelector('.js-quantity-span'),\n  deleteAllButton: document.querySelector('.js-delete-all-btn'),\n  totalSpan: document.querySelector('.js-total-price'),\n  form: document.querySelector('.js-form-checkout'),\n};\n\nlet products = [];\n\nproducts = loadFromLS('CART');\n\nif (!isEmpty(products)) {\n  refsCart.quantityTitle.textContent = `${products.length}`;\n  refsCart.quantityHeaderSpan.forEach(\n    elem => (elem.textContent = `${products.length}`)\n  );\n  getProducts(products);\n\n  refsCart.deleteAllButton.addEventListener('click', onClickDeleteAllButton);\n\n  refsCart.itemsList.addEventListener('click', async event => {\n    if (event.target.nodeName === 'UL') return;\n\n    if (event.target.dataset.action === 'delete') {\n      onClickDeleteButton(event);\n    }\n    const action = event.target.dataset.action;\n    if (action === 'increment' || action === 'decrement') {\n      onChangeAmountProducts(event, action);\n    }\n  });\n\n  refsCart.form.addEventListener('submit', handleSubmit);\n}\n\nfunction onClickDeleteAllButton() {\n  refsCart.itemsList.classList.add('scale-down-center');\n  setTimeout(() => {\n    saveToLS('CART', []);\n    products = [];\n    isEmpty(products);\n    spinnerStop();\n  }, 500);\n}\n\nfunction onClickDeleteButton(event) {\n  const item = event.target.closest('LI');\n  const id = item.dataset.id;\n  const updateProducts = loadFromLS('CART');\n\n  const filteredProducts = updateProducts.filter(elem => elem.productId !== id);\n\n  item.classList.add('slide-top');\n  setTimeout(() => {\n    item.remove();\n    let totalPrice = 0;\n    refsCart.allPricesofProducts = document.querySelectorAll(\n      '.js-cart-product-price'\n    );\n    refsCart.allAmountOfProducts = document.querySelectorAll('.js-amount-span');\n    totalPrice = filteredProducts.reduce((total, elem, i) => {\n      return (\n        total +\n        Number(refsCart.allPricesofProducts[i].textContent.replace('$', '')) *\n          Number(refsCart.allAmountOfProducts[i].textContent)\n      );\n    }, 0);\n\n    refsCart.quantityTitle.textContent = `${filteredProducts.length}`;\n    refsCart.quantityHeaderSpan.forEach(\n      elem => (elem.textContent = `${filteredProducts.length}`)\n    );\n    refsCart.totalSpan.textContent = `$${totalPrice.toFixed(2)}`;\n\n    saveToLS('CART', filteredProducts);\n    isEmpty(filteredProducts);\n  }, 500);\n}\n\nfunction onChangeAmountProducts(event, action) {\n  const productPrice = Number(\n    event.target\n      .closest('.js-border-container')\n      .previousElementSibling.lastElementChild.textContent.replace('$', '')\n  );\n  const quantityElement =\n    event.target.closest('SPAN').firstElementChild.nextElementSibling;\n  let value = Number(quantityElement.textContent);\n  const id = event.target.closest('LI').dataset.id;\n\n  if (action === 'decrement') {\n    if (value === 1) return;\n    value -= 1;\n    refsCart.totalSpan.textContent =\n      '$' +\n      (\n        Number(refsCart.totalSpan.textContent.replace('$', '')) - productPrice\n      ).toFixed(2);\n  }\n  if (action === 'increment') {\n    value += 1;\n    refsCart.totalSpan.textContent =\n      '$' +\n      (\n        Number(refsCart.totalSpan.textContent.replace('$', '')) + productPrice\n      ).toFixed(2);\n  }\n\n  quantityElement.textContent = value;\n  const productsList = loadFromLS('CART');\n  const index = productsList.findIndex(elem => {\n    return elem.productId === id;\n  });\n  productsList[index].amount = value;\n  saveToLS('CART', productsList);\n}\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  spinnerPlay();\n  let email = '';\n  const formData = new FormData(event.target);\n  formData.forEach(value => {\n    email = value;\n  });\n  const order = {};\n  order.products = loadFromLS('CART');\n  order.email = email;\n  try {\n    const response = await FoodApi.createOrder(order);\n    openModalSuccess();\n\n    saveToLS('CART', []);\n    products = [];\n    refsCart.form.reset();\n    isEmpty(products);\n  } catch (error) {\n    if (error.response.status === 400) {\n      openModalError(\n        'Incorrect email',\n        'The email must be in format: johnsmith125@gmail.com'\n      );\n    } else {\n      openModalError(\n        'Server Issue',\n        `We're sorry, but it seems there's an issue with our server. Please try again later.`\n      );\n    }\n  } finally {\n    spinnerStop();\n  }\n}\n\nasync function getProducts(cartList) {\n  spinnerPlay();\n  try {\n    if (!products) return;\n    let totalPrice = 0;\n    const productsList = cartList.map(async elem => {\n      const response = await FoodApi.getProductById(elem.productId);\n      return response;\n    });\n    const productItems = await Promise.all(productsList);\n    totalPrice = productItems.reduce((total, elem) => {\n      return total + elem.price;\n    }, 0);\n    const markup = createMarkup(productItems, cartList);\n    refsCart.itemsList.innerHTML = markup;\n\n    refsCart.totalSpan.textContent = `$${totalPrice.toFixed(2)}`;\n\n    new SimpleBar(refsCart.itemsList, { autoHide: false });\n  } catch (error) {\n    refsCart.fullCart.classList.add('is-hidden');\n    refsCart.emptyCart.classList.remove('is-hidden');\n    openModalError(\n      'Server Issue',\n      `We're sorry, but it seems there's an issue with our server. Please try again later.`\n    );\n  } finally {\n    spinnerStop();\n  }\n}\n\nfunction createMarkup(items, amountItems) {\n  return items\n    .map(({ name, category, size, img, price, _id, is10PercentOff }, i) => {\n      return `<li class=\"item-list\" data-id=\"${_id}\">\n            <div class=\"cart-product-img-container\">\n              <img\n                class=\"cart-product-img\"\n                src=\"${img}\"\n                alt=\"product\"\n                width=\"64\"\n                height=\"64\"\n              />\n       ${createMarkupDiscountProduct(is10PercentOff)}\n            </div>\n            <div class=\"cart-product-container\">\n              <h3 class=\"cart-product-name\">${name}</h3>\n              <div class=\"cart-description-container\">\n                <p class=\"cart-product-description\">\n                  Category:\n                  <span class=\"cart-product-description-accent\"\n                    >${category}</span\n                  >\n                </p>\n                <p class=\"cart-product-description\">\n                  Size:\n                  <span class=\"cart-product-description-accent\">${size}</span>\n                </p>\n              </div>\n              <p class=\"cart-product-price js-cart-product-price\">$${price}</p>\n            </div>\n\n            <div class=\"border-container js-border-container\">\n              <div class=\"product-price-wrapper\">\n                <div class=\"quantity-span-container\">\n                  <span class=\"quantity-span\">\n                    <button\n                      class=\"quantity-span-btn\"\n                      type=\"button\"\n                      data-action=\"decrement\"\n                    >\n                      <svg class=\"cart-icon-minus\" width=\"10\" height=\"10\" data-action=\"decrement\" aria-label=\"decrease by one item\">\n                        <use href=\"${icons}#icon-minus\" data-action=\"decrement\"></use>\n                      </svg></button\n                    ><span class=\"js-amount-span\">${\n                      amountItems[i].amount\n                    }</span>\n                    <button\n                      class=\"quantity-span-btn\"\n                      type=\"button\"\n                      data-action=\"increment\" aria-label=\"increase by one item\"\n                    >\n                      <svg class=\"cart-icon-plus\" width=\"14\" height=\"14\" data-action=\"increment\">\n                        <use href=\"${icons}#icon-plus\" data-action=\"increment\"></use>\n                      </svg>\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <button class=\"delete-btn\" type=\"button\" data-action=\"delete\" aria-label=\"button delete item\">\n              <svg class=\"cart-icon-delete\" width=\"10\" height=\"10\" data-action=\"delete\">\n                <use href=\"${icons}#icon-close\" class=\"icon\" data-action=\"delete\"></use>\n              </svg>\n            </button>\n          </li>`;\n    })\n    .join('');\n}\n\nfunction createMarkupDiscountProduct(isDiscount) {\n  const markup = `<svg class=\"cart-product-discount-icon\" width=\"35\" height=\"35\">\n          <use href=\"${icons}#icon-discount\"></use>\n        </svg> `;\n  return isDiscount ? markup : '';\n}\n\nfunction isEmpty(items) {\n  if (!items?.length) {\n    refsCart.fullCart.classList.add('is-hidden');\n    refsCart.emptyCart.classList.remove('is-hidden');\n    refsCart.quantityTitle.textContent = '0';\n    refsCart.quantityHeaderSpan.forEach(elem => (elem.textContent = '0'));\n    return true;\n  } else {\n    refsCart.emptyCart.classList.add('is-hidden');\n    refsCart.fullCart.classList.remove('is-hidden');\n    return false;\n  }\n}\n// Save to local storage\nfunction saveToLS(key, value) {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n// Load from local storage\nfunction loadFromLS(key) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\n// -----------------ScrollUp Button----------------------\nconst scrollUpButton = document.querySelector('.js-scroll-up-btn');\ndocument.addEventListener(\n  'scroll',\n  throttle(() => {\n    if (window.scrollY > 200) {\n      return scrollUpButton.classList.add('show');\n    }\n    scrollUpButton.classList.remove('show');\n  }, 500)\n);\nscrollUpButton.addEventListener('click', () => {\n  window.scroll({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n// ==========================================================\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$ef7689007096c8a0$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$ef7689007096c8a0$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$9OeKo","$8O1yB","$6M5dt","$kBiqv","$04jNI","$bfxWz","$915de8ffc4dd3149$export$8a361852783e1caf","itemsList","document","querySelector","fullCart","emptyCart","quantityHeaderSpan","querySelectorAll","quantityTitle","deleteAllButton","totalSpan","form","$915de8ffc4dd3149$var$products","$915de8ffc4dd3149$var$handleSubmit","event","preventDefault","spinnerPlay","email","formData","FormData","target","forEach","value","order","products","$915de8ffc4dd3149$var$loadFromLS","createOrder","openModalSuccess","$915de8ffc4dd3149$var$saveToLS","reset","$915de8ffc4dd3149$var$isEmpty","error","response","status","openModalError","spinnerStop","$915de8ffc4dd3149$var$getProducts","cartList","totalPrice","productsList","map","elem","getProductById","productId","productItems","Promise","all","reduce","total","price","markup","items","name","category","size","img","_id","is10PercentOff","$915de8ffc4dd3149$var$createMarkupDiscountProduct","isDiscount","amountItems","amount","join","innerHTML","textContent","toFixed","autoHide","classList","add","remove","key","serializedState","stringify","localStorage","setItem","console","message","getItem","undefined","addEventListener","setTimeout","nodeName","dataset","action","$915de8ffc4dd3149$var$onClickDeleteButton","item","closest","filteredProducts","updateProducts","filter","allPricesofProducts","allAmountOfProducts","Number","replace","$915de8ffc4dd3149$var$onChangeAmountProducts","productPrice","previousElementSibling","lastElementChild","quantityElement","firstElementChild","nextElementSibling","index","findIndex","$915de8ffc4dd3149$var$scrollUpButton","scrollY","scroll","top","behavior"],"version":3,"file":"cart.065102e8.js.map"}